# ----------------------------------------------------------------------------
# Server configuration
# ----------------------------------------------------------------------------
# The TCP socket address Actix should bind to (used by main.rs)
SERVER_ADDRESS=127.0.0.1:8080
# Optional port override consumed by src/config.rs if you prefer host/port split
SERVER_PORT=8080
# Environment profile: development | staging | production
ENVIRONMENT=development
# Log level emitted by the application (error, warn, info, debug, trace)
LOG_LEVEL=info
# Some hosting providers (Render/Heroku) inject PORT automatically; keep for compatibility
PORT=8080

# ----------------------------------------------------------------------------
# Database (PostgreSQL)
# ----------------------------------------------------------------------------
# Connection string for tokio_postgres (update with Render credentials)
# Docs: https://render.com/docs/databases
DATABASE_URL=postgres://user:password@localhost:5432/boston_drone_school
# Enforce encrypted connections on managed providers
PGSSLMODE=require

# ----------------------------------------------------------------------------
# Cache / session store (Redis-compatible)
# ----------------------------------------------------------------------------
# URL for Redis/Upstash used for sessions, rate limiting, caching
# Docs: https://upstash.com/docs/redis
REDIS_URL=redis://default:password@localhost:6379
# Default TTL (seconds) for cached dashboard or recommendation data
CACHE_TTL_SECONDS=900

# ----------------------------------------------------------------------------
# Authentication & secrets
# ----------------------------------------------------------------------------
# Symmetric key for signing JWT access tokens (generate with `openssl rand -hex 32`)
# Docs: https://jwt.io/introduction
JWT_SECRET=your_generated_jwt_secret
# Optional identifier if using an external secrets manager (Vault, AWS Secrets Manager)
APP_SIGNING_KEY_ID=primary

# ----------------------------------------------------------------------------
# Payments (Stripe)
# ----------------------------------------------------------------------------
# Docs: https://stripe.com/docs/keys
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_API_KEY=sk_test_your_secret_key
# Webhook signing secret from Stripe CLI or dashboard
# Docs: https://stripe.com/docs/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ----------------------------------------------------------------------------
# Email (SendGrid / Postmark / Resend)
# ----------------------------------------------------------------------------
# Docs: https://docs.sendgrid.com/api-reference/api-key
EMAIL_PROVIDER=sendgrid
EMAIL_API_KEY=SG.your_sendgrid_key
EMAIL_FROM_ADDRESS=no-reply@yourdomain.com
EMAIL_REPLY_TO=support@yourdomain.com

# ----------------------------------------------------------------------------
# Object storage for course materials (AWS S3 example)
# ----------------------------------------------------------------------------
# Docs: https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html
STORAGE_PROVIDER=aws_s3
AWS_S3_BUCKET=boston-drone-school-assets
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key
# Public CDN URL that fronts the bucket (CloudFront / Cloudflare)
S3_CDN_BASE_URL=https://cdn.yourdomain.com

# ----------------------------------------------------------------------------
# CDN / Media delivery
# ----------------------------------------------------------------------------
CDN_BASE_URL=https://cdn.yourdomain.com
CDN_PROVIDER=cloudflare
CDN_DISTRIBUTION_ID=dist_123456789

# ----------------------------------------------------------------------------
# Observability & monitoring
# ----------------------------------------------------------------------------
# Docs: https://docs.sentry.io/product/sentry-basics/dsn-explainer/
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
# Docs: https://docs.newrelic.com/docs/apis/intro-apis/new-relic-api-keys/
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key

# ----------------------------------------------------------------------------
# Feature flags / miscellaneous
# ----------------------------------------------------------------------------
# Toggle recommendation engine or experimental dashboards
FEATURE_RECOMMENDATIONS=true

# ----------------------------------------------------------------------------
# AI / Anthropic Claude Configuration
# ----------------------------------------------------------------------------
# Anthropic API key for Claude AI integration
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
# Model to use (claude-3-5-sonnet-20241022, claude-3-opus-20240229, etc.)
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022